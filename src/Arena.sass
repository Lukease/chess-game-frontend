@import "login"
@import "settings"
@import "gamePanel"
@import "loader"
@import "error"
@import "gameInfo"
@import "playersInfo"

@mixin appBackgroundImage()
  background-image: linear-gradient(#413f3f, black)

@mixin pawnPromotionColor()
  background-image: linear-gradient(#c7783f, red)
  border-radius: 40px

@mixin hovered()
  background-color: #47627e
  filter: brightness(1.2)

@mixin correctMoveHoveredColor()
  background: #40704a
  transition: filter 300ms

@mixin lastMoveOrActiveField()
  opacity: 0.7

@mixin correctMove()
  background: #578a61
  opacity: 0.5

#root
  width: 100vw
  height: 100vh
  background-image: linear-gradient(#413f3f, black)
  -webkit-user-select: none
  --nav-size: 60px
  overflow-x: hidden

.game-content
  display: flex
  width: 100%
  min-height: 100%
  align-items: center
  justify-content: center
  gap: 10px
  flex-direction: column
  @include appBackgroundImage()

  &__trash
    background-image: url('icons/garbage-trash-svgrepo-com.svg')
    width: 90px
    height: 50px
    background-size: 70% 70%
    background-position: center
    background-repeat: no-repeat

.field
  display: flex
  width: 90px
  height: 90px
  justify-content: center
  align-items: center
  transition: filter 300ms

  &__black
    background-color: #9d643b

  &__white
    background-color: burlywood

  &__chosen
    @include lastMoveOrActiveField()

  &__e-p
    background-color: green

  &__check
    background-color: red
    z-index: 3

  &__column
    display: flex
    height: 600px
    flex-direction: column

    &--letter
      position: absolute
      width: 20px
      height: 20px
      bottom: 0
      padding: 3px

  &__numbers
    position: absolute
    height: 100%
    width: 8px
    padding: 3px
    right: 0

    &--element
      height: 12.5%

.game
  display: flex
  width: 720px
  height: 600px
  position: relative

  &__arena
    position: relative
    width: 720px
    height: 800px
    display: flex
    flex-direction: column
    align-items: center
    justify-content: center
    gap: 10px
    z-index: 1

  &__fen-container
    display: flex
    align-items: center
    gap: 10px
    padding: 20px
    margin: 10px

    &--title
      font-weight: bold
      margin-bottom: 5px

    &--input
      padding: 5px
      font-size: 16px
      border-radius: 4px

.dropdown
  position: absolute
  top: 40px
  width: 300px
  transform: translateX(-45%)
  background-color: #00000033
  border-radius: 20px
  padding: 1rem
  overflow: hidden
  z-index: 5

  &__item
    height: 50px
    display: flex
    align-items: center
    transition: background var(--speed)
    padding: 0.5rem
    border-radius: 20px

    &--icon
      padding: 10px

.dropdown__item:hover
  background-color: #6c6767

.navbar
  height: 30px
  background-color: #343232
  border-bottom: var(--border)
  width: 100%
  position: absolute
  display: flex
  top: 0
  justify-content: flex-end

  &__nav
    max-width: 10%
    height: 100%
    display: flex
    justify-content: flex-end

    &--item
      width: calc(var(--nav-size) * 0.8)
      display: none
      justify-content: center
      align-items: center
      padding: 5px

    &--button
      --button-size: calc(var(--nav-size) * 0.8)
      width: var(--button-size)
      height: var(--button-size)
      background-color: #444141
      border-radius: 50%
      margin: 2px
      display: flex
      align-items: center
      justify-content: center
      transition: filter 300ms

  &__logo
    display: flex
    align-items: center
    font-family: sans-serif
    font-size: 15px
    font-weight: bold
    color: green
    position: absolute
    left: 10px

  &__logo-icon
    margin-left: 10px
    font-size: 15px

  &__logo-text
    font-style: italic

.panel
  display: flex
  width: 715px
  height: 75px

  &__add
    display: flex
    width: 75%
    align-items: center
    justify-content: space-between
    background-color: #5d5656
    border-radius: 20px
    padding: 12px

.figure
  display: flex
  height: 70px
  width: 70px
  z-index: 2
  transition: filter 300ms

  &__add
    height: 16%

  &__move-empty
    width: 40%
    height: 40%
    border-radius: 50%
    @include correctMove

  &__move-figure
    height: 90%
    border-radius: 50%
    @include correctMove

  &__add
    width: 100%
    height: 18%
    display: flex
    background-size: contain
    background-position: center
    background-repeat: no-repeat

  &__move
    width: 4%
    height: 8%
    display: flex
    background-size: contain
    background-position: center
    background-repeat: no-repeat

.history
  width: 20%
  height: 30%
  position: absolute
  display: flex
  flex-direction: column
  top: 30%
  left: 1%
  background-color: #343232
  border-radius: 20px
  text-align: center

  &__navigation
    display: flex
    flex-direction: column
    max-height: 170px
    overflow-y: scroll

  &__number
    text-align: center
    width: 20%
    height: 30px
    background-color: rgba(41, 36, 36, 0.8)
    color: #7a746b

  &__container
    display: flex
    width: 100%
    height: 30px
    justify-content: space-around

  &__button
    --button-size: calc(var(--nav-size) * 0.8)
    width: var(--button-size)
    margin: 2px
    display: flex
    align-items: center
    justify-content: center
    transition: filter 300ms

  &__move
    height: auto
    width: 40%
    text-align: left
    transition: filter 300ms

.select
  width: 100%
  height: 100%
  position: absolute
  background-color: rgba(0, 0, 0, 0.2)
  left: 0
  top: 0
  opacity: 0.4
  z-index: 3

  &__promotion
    position: absolute
    display: flex
    flex-direction: row
    top: 0
    left: 0
    width: 360px

  &__player
    position: absolute
    display: flex
    right: 20px
    top: 45%
    width: 50px
    background-color: #343232
    border-radius: 20px
    flex-direction: column
    align-items: center
    justify-content: center
    padding: 5px
    transition: filter 300ms

  &__new-figure
    min-width: 10%
    height: auto
    padding: 5px
    text-align: center
    border-radius: 10%
    border-style: solid
    font-size: 220%
    background: #343232 no-repeat center
    opacity: 4
    color: rgba(255, 255, 255, 1)

::-webkit-scrollbar
  width: 5px

::-webkit-scrollbar-track
  background: #413e3e

::-webkit-scrollbar-thumb
  background: #262424

::-webkit-scrollbar-thumb:hover
  background: #555

.select__new-figure:hover
  @include hovered()

.panel__add > .field > .figure:hover
  @include hovered()

.field:has(.figure__move-empty):hover,
.field:has(.figure__move-figure):hover
  @include correctMoveHoveredColor()
  opacity: 0.9

.history__move:hover,
.panel > .figure:hover,
.navbar__nav--button:hover,
.history__button:hover,
.select__player > img:hover
  @include hovered()

.select__promotion > div:hover
  @include pawnPromotionColor()

.game
  cursor: pointer

.navbar
  height: 20px
  width: 100%
  left: 0
  z-index: 3

.navbar:hover
  height: 60px
  align-items: center

  .navbar__nav--item
    display: flex

  .navbar__logo,
  .navbar__logo-icon
    font-size: 25px

button
  margin: 5px

div
  color: #eae8e2
  font-weight: bold

ul
  list-style: none
  margin: 0
  padding: 0

a
  text-decoration: none

@media only screen and (max-width: 1100px)
  .game
    width: 100%
    height: 400px

  .game-content
    justify-content: flex-start
    padding-top: 20px
    gap: 5%

  .game__arena
    width: 400px
    height: 540px

  .game__add-figure
    width: 100%

  .field
    width: 50px
    height: 50px

  .figure
    height: 50px
    width: 50px

  .field__column
    height: 400px

  .field__numbers
    height: 400px

  .panel
    width: 100%

  .panel__add
    width: 100%

  .game-content
    max-height: 100vw
    overflow-y: auto

  .history
    position: revert
    width: 30%
    height: 30%

  .info
    position: relative
    z-index: 1
    width: 30%
    top: 0

@media only screen and (max-width: 1700px)
  .game-content
    padding-top: 4%
